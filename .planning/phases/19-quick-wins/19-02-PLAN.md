---
phase: 19-quick-wins
plan: 02
type: execute
wave: 1
depends_on: []
files_modified:
  - modules/AppVideoWizard/resources/views/livewire/modals/ai-edit.blade.php
  - modules/AppVideoWizard/resources/views/livewire/modals/character-bible.blade.php
  - modules/AppVideoWizard/resources/views/livewire/modals/edit-prompt.blade.php
  - modules/AppVideoWizard/resources/views/livewire/modals/location-bible.blade.php
  - modules/AppVideoWizard/resources/views/livewire/modals/multi-shot.blade.php
  - modules/AppVideoWizard/resources/views/livewire/modals/project-manager.blade.php
  - modules/AppVideoWizard/resources/views/livewire/modals/scene-dna.blade.php
  - modules/AppVideoWizard/resources/views/livewire/modals/story-bible.blade.php
  - modules/AppVideoWizard/resources/views/livewire/modals/style-bible.blade.php
  - modules/AppVideoWizard/resources/views/livewire/steps/animation.blade.php
  - modules/AppVideoWizard/resources/views/livewire/steps/platform.blade.php
  - modules/AppVideoWizard/resources/views/livewire/steps/storyboard.blade.php
  - modules/AppVideoWizard/resources/views/livewire/steps/partials/_tab-audio.blade.php
  - modules/AppVideoWizard/resources/views/livewire/steps/partials/_tab-text.blade.php
  - modules/AppVideoWizard/resources/views/livewire/steps/partials/_tab-transitions.blade.php
autonomous: true
user_setup: []

must_haves:
  truths:
    - "Text inputs do not trigger full component sync on every keystroke"
    - "Select dropdowns update immediately (live binding appropriate)"
    - "Checkbox/toggle inputs update immediately (live binding appropriate)"
    - "Range sliders update on change, not during drag"
  artifacts:
    - path: "modules/AppVideoWizard/resources/views/livewire/**/*.blade.php"
      provides: "Debounced bindings on text inputs"
      contains: "wire:model.blur"
  key_links:
    - from: "Blade templates"
      to: "Livewire component"
      via: "wire:model.blur and wire:model.debounce"
      pattern: "wire:model\\.(blur|debounce)"
---

<objective>
Convert wire:model.live bindings to wire:model.blur or wire:model.debounce where appropriate to reduce unnecessary server round-trips.

Purpose: Each wire:model.live binding triggers a full component sync on every keystroke. With 70+ live bindings and a 500KB+ payload, this causes severe latency. Converting text inputs to .blur (sync on blur) or .debounce.500ms reduces server load significantly.

Output: Blade templates with optimized wire:model bindings based on input type.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Audit and categorize all wire:model.live bindings</name>
  <files>modules/AppVideoWizard/resources/views/livewire/**/*.blade.php</files>
  <action>
Search all Blade templates and categorize each wire:model.live binding:

**Category A - Keep as .live (immediate feedback needed):**
- Checkboxes/toggles (user expects immediate visual feedback)
- Radio buttons (selection should apply instantly)
- Select dropdowns (selection should apply instantly)
- Small numeric selects (page numbers, etc.)

**Category B - Change to .blur (sync when user leaves field):**
- Textarea inputs (narration, prompts, descriptions)
- Text inputs for names, titles
- Any input where user types multiple characters

**Category C - Change to .debounce.500ms (search fields):**
- Search inputs (like projectManagerSearch)
- Filter inputs
- Any input that triggers server-side filtering

**Category D - Change to .change (range sliders):**
- Range/slider inputs (volume, speed, etc.)
- Should sync when user releases slider, not during drag

Run this grep to find all instances:
```bash
grep -rn "wire:model\.live" modules/AppVideoWizard/resources/views/livewire/
```

Document the categorization in comments if helpful.
  </action>
  <verify>
Count current wire:model.live bindings:
```bash
grep -rn "wire:model\.live" modules/AppVideoWizard/resources/views/livewire/ | wc -l
```
Should show ~70 occurrences before changes.
  </verify>
  <done>All 70 wire:model.live bindings are audited and categorized by input type.</done>
</task>

<task type="auto">
  <name>Task 2: Convert text inputs to wire:model.blur</name>
  <files>modules/AppVideoWizard/resources/views/livewire/**/*.blade.php</files>
  <action>
For each file containing wire:model.live on textarea or text inputs, change to wire:model.blur:

**ai-edit.blade.php:**
- `wire:model.live="aiEditPrompt"` -> `wire:model.blur="aiEditPrompt"` (textarea)

**character-bible.blade.php:**
- Keep select dropdowns as .live (voice.id, voice.gender, voice.style, voice.pitch, speakingRole)
- Keep checkbox as .live (isNarrator, enabled)
- Change range to .change (voice.speed): `wire:model.live` -> `wire:model.change`

**edit-prompt.blade.php:**
- Keep checkbox as .live (useReferenceScene)
- Change range to .change (editSceneDuration): `wire:model.live` -> `wire:model.change`

**location-bible.blade.php:**
- Keep checkbox as .live (enabled)

**multi-shot.blade.php:**
- Keep select dropdowns as .live (shotVoiceSelection)

**project-manager.blade.php:**
- Already using `.live.debounce.300ms` for search - KEEP as is
- Keep select as .live (projectManagerSort)

**scene-dna.blade.php:**
- Keep checkboxes as .live (styleBible.enabled, sceneDNA.autoSync)

**story-bible.blade.php:**
- Keep checkboxes as .live (all the cinematography toggles)
- Keep selects as .live (dialogueSettings.defaultPattern, actionSettings.defaultPattern)

**style-bible.blade.php:**
- Keep checkbox as .live (styleBible.enabled)

**animation.blade.php:**
- Change ranges to .change: voiceover.speed, music.volume, audioMix.voiceVolume

**platform.blade.php:**
- Change range to .change (targetDuration): `wire:model.live` -> `wire:model.change`

**storyboard.blade.php:**
- Keep select as .live (arcTemplate, storyboardPage)

**_tab-audio.blade.php:**
- Keep checkboxes as .live (smartAudio, ducking, normalize, noiseReduction, voiceEnhance, music.enabled, music.loop)
- Change ranges to .change: voiceVolume, music.volume, duckAmount
- Keep selects as .live (music.fadeIn, music.fadeOut)

**_tab-text.blade.php:**
- Audit and convert any text inputs to .blur

**_tab-transitions.blade.php:**
- Audit and convert appropriately

Summary of changes:
- Checkboxes/toggles: KEEP .live
- Select dropdowns: KEEP .live
- Range sliders: Change to .change
- Text inputs/textareas: Change to .blur
- Search inputs: Use .debounce.500ms (most already do)
  </action>
  <verify>
Count remaining wire:model.live bindings after changes:
```bash
grep -rn "wire:model\.live" modules/AppVideoWizard/resources/views/livewire/ | wc -l
```
Should be significantly reduced (target: <30, keeping only checkboxes and selects).

Also verify new binding types exist:
```bash
grep -rn "wire:model\.blur\|wire:model\.change" modules/AppVideoWizard/resources/views/livewire/ | wc -l
```
Should show multiple .blur and .change bindings.
  </verify>
  <done>Text inputs use wire:model.blur, range sliders use wire:model.change, checkboxes and selects retain wire:model.live. Total .live bindings reduced from ~70 to <30.</done>
</task>

</tasks>

<verification>
After both tasks:
1. Load Video Wizard and test each input type:
   - Checkboxes toggle immediately (live)
   - Dropdowns apply immediately (live)
   - Text inputs only sync when you click away (blur)
   - Range sliders only sync when released (change)
2. No JavaScript errors in console
3. All form inputs still save correctly
4. Network tab shows fewer requests when typing in text fields
</verification>

<success_criteria>
1. wire:model.live bindings reduced from ~70 to <30
2. Text inputs (textarea, input[type=text]) use wire:model.blur
3. Range sliders use wire:model.change
4. Checkboxes and selects retain wire:model.live for immediate feedback
5. All inputs still sync correctly (test by filling out wizard)
</success_criteria>

<output>
After completion, create `.planning/phases/19-quick-wins/19-02-SUMMARY.md`
</output>
